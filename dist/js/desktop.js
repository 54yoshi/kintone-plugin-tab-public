!function(){"use strict";const e=kintone.$PLUGIN_ID,t=kintone.plugin.app.getConfig(e),o=kintone.app.getId(),a=location.origin;let n;t&&(n={tabSettings:JSON.parse(t.tabSettings),editFormData:JSON.parse(t.editFormData)}),kintone.events.on(["app.record.detail.show","app.record.edit.show","app.record.create.show"],(async function(){if(!n)return;const{editFormData:t,tabSettings:l}=n,{backgroundColor:r,fontColor:s,spaceField:d,tabs:i}=l,c=kintone.app.record.getSpaceElement(l.spaceField);if(!c)return void function(){const t=document.createElement("div");t.className="custom-alert-banner";const n=a+`/k/admin/app/${o}/plugin/`+`config?pluginId=${e}`;t.innerHTML='タブプラグインで設定されていたスペースフィールドが見つかりません。<a href="'+n+'"" style="margin-left:8px;color:#fff;text-decoration:underline;">設定画面を開く</a>';const l=kintone.app.record.getHeaderMenuSpaceElement();l?l.appendChild(t):document.body.appendChild(t),setTimeout((()=>{t.classList.add("show")}),20)}();const p=Array.from(document.querySelectorAll("#record-gaia .layout-gaia > .row-gaia, #record-gaia .layout-gaia > .subtable-row-gaia")),u=await kintone.api(kintone.api.url("/k/v1/app/form/layout.json",!0),"GET",{app:o});let g=0;for(let e=0;e<u.layout.length;e++){const t=u.layout[e];if("GROUP"===t.type)for(let o=0;o<t.layout.length;o++){const a=t.layout[o];for(let t=0;t<a.fields.length;t++){const o=a.fields[t];if(o?.elementId===d){g=e;break}}}else for(let o=0;o<t.fields.length;o++){const a=t.fields[o];if(a?.elementId===d){g=e;break}}}u.layout.slice(g+1);const y=p.slice(g+1);console.log(y,"lowerRowNodes"),console.log(i,"tabs");const f=document.createElement("div");f.classList.add("parentDiv"),f.style.borderBottom=`2px solid ${l.backgroundColor}`,i.forEach(((e,t)=>{const o=document.createElement("div");o.classList.add("tab"),f.appendChild(o),o.textContent=""===e.tabName?`タブ${t+1}`:e.tabName,0===t&&(o.style.backgroundColor=r,o.style.color=s,o.style.border=`2px solid ${l.backgroundColor}`),o.addEventListener("click",(()=>{document.querySelectorAll(".tab").forEach((e=>{e.style.backgroundColor="rgb(229, 229, 229)",e.style.color="#8d8d8d",e.style.border="2px solid #e3e2e2"})),o.style.backgroundColor=r,o.style.color=s,o.style.border=`2px solid ${l.backgroundColor}`,y.forEach(((o,a)=>{o.style.display="none",(e.startRowIndex<=a&&a<i[t+1]?.startRowIndex||e.startRowIndex<=a&&void 0===i[t+1])&&(o.style.display="")}))})),y.forEach(((e,t)=>{e.style.display="none",(0<=t&&t<i[1]?.startRowIndex||0<=t&&void 0===i[1])&&(e.style.display="")}))})),c.appendChild(f)}))}();